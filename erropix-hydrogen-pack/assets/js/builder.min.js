function HydrogenPack(e){var t=angular.element("body");if(hydrogen.get("settings.shortcuts.enabled")&&t.on("keydown",(function(t){e.hydroScope&&"function"==typeof e.hydroScope.shortcutHandler&&e.hydroScope.shortcutHandler.call(this,t)})),hydrogen.get("settings.clipboard.enabled")&&t.on("paste",(function(t){t.target.isContentEditable||["INPUT","TEXTAREA"].includes(t.target.nodeName)||e.hydroScope&&"function"==typeof e.hydroScope.pasteHandler&&e.hydroScope.pasteHandler.call(this,t)})),hydrogen.get("settings.structureEnhancer.enabled")){var n=hydrogen.get("domTreeVersion");n>="2"?angular.element("#ct-dom-tree-2").on("dblclick",".dom-tree-node-label.ng-scope",(function(e){var t=angular.element(this).scope();t.state.editable=!0,t.$apply();let n=this.querySelector("input.title");n&&(n.focus(),n.select())})):angular.element("#ct-dom-tree").on("dblclick",".ct-dom-tree-name",(function(t){var n=this.getAttribute("ng-attr-node-id");e.iframeScope.setEditableFriendlyName(n)}));var a=parseInt(hydrogen.get("settings.structureEnhancer.width"));a&&hydrogen.onFunction(e,"adjustViewportContainer",(function(){var t=e.adjustViewportContainer;e.adjustViewportContainer=function(){if(e.showSidePanel&&e.isShowTab("sidePanel","DOMTree")){var n=e.verticalSidebar.width(),o=window.innerWidth-a-n;e.viewportContainer.css({marginLeft:n,width:o}),e.adjustArtificialViewport(o-12),e.adjustViewportRuller(),e.sidePanelElement.css({width:a})}else t()};var n=e.switchTab;e.switchTab=function(t,a){n(t,a),"sidePanel"==t&&e.adjustViewportContainer()}})),hydrogen.get("settings.structureEnhancer.openOnLoad")&&hydrogen.onFunction(e,"adjustViewportContainer",(function(){e.switchTab("sidePanel","DOMTree")})),hydrogen.get("settings.structureEnhancer.expandAll")&&e.$on("iframe-init",(function(){var t=setInterval((function(){var a;0==e.overlaysCount&&(clearInterval(t),n>="2"?e.$broadcast("treeExpand"):(e.iframeScope.expandAllNodes(),!(a=e).$$phase&&a.$digest()))}),100)}))}if(hydrogen.get("settings.preserveAdvancedTabs.enabled")){var o={showAllStyles:!0,styleTabAdvance:!1,advancedTabs:[],effectsTabs:[]};e.saveAdvancedTabState=function(){o.showAllStyles=e.showAllStyles,o.styleTabAdvance=e.styleTabAdvance,o.advancedTabs=e.tabs.advanced,o.effectsTabs=e.tabs.effects},e.restoreAdvancedTabState=function(){e.showAllStyles=o.showAllStyles,e.styleTabAdvance=o.styleTabAdvance,e.tabs.advanced=o.advancedTabs,e.tabs.effects=o.effectsTabs},e.clearAdvancedTabState=function(){e.showAllStyles=!0,e.tabs.advanced=[],e.tabs.effects=[]},e.showAdvancedTab=function(){e.styleTabAdvance&&!e.showAllStyles&&e.clearAdvancedTabState(),e.toggleSidebar(!0),e.styleTabAdvance=!0}}e.hydroInsertCustomSVG=function(){var t=prompt("Please paste the SVG code here to be processed");if(t){var n=angular.element("<div>");try{var a=angular.element(t)}catch(e){throw new Error("Invalid SVG code")}if(a){a.attr("preserveAspectRatio","none"),a.find("[fill]").attr("fill","currentColor"),n.append(a);var o=e.iframeScope.component.active.id;e.iframeScope.component.options[o].model["oxy-shape-divider_custom_shape"]=n.html(),e.iframeScope.setOption(o,"oxy-shape-divider","oxy-shape-divider_custom_shape")}}},hydrogen.get("settings.conditionsEnhancer.enabled")&&e.$watch("dialogForms['ifCondition']",(function(e){e?t.addClass("modal-conditions-open"):t.removeClass("modal-conditions-open")}))}if("object"!=typeof hydrogen&&(hydrogen={}),angular.extend(hydrogen,{get:function(e,t,n){var a;return n=n||this,void 0===(a=e.split(".").filter((function(e){return e})).reduce((function(e,t){return e&&e[t]}),n))&&(a=t),a},onFunction:function(e,t,n){var a=setInterval((function(){"function"==typeof e[t]&&(n.call(),clearInterval(a))}),50)}}),"undefined"!=typeof __rocketLoaderEventCtor&&window.addEventListener("load",(function(){var e=document.getElementById("cf-rocket-loader-notice");e&&(e.style.display="block")})),CTFrontendBuilderUI.directive("hydrogenPack",(function(){return{restrict:"A",link:function(e){window.HydrogenPack=new HydrogenPack(e)}}})),hydrogen.get("settings.structureEnhancer.enabled")){var domTreeVersion=hydrogen.get("domTreeVersion");domTreeVersion>=2&&hydrogen.get("settings.structureEnhancer.icons")&&CTFrontendBuilderUI.directive("domTreeNodeLabel",(function(){return{restrict:"C",link:function(e,t){e.item&&t.find(".oxy-drag-handle").after(`<span data-item-icon="${e.item.name}"></span>`)}}}))}CTFrontendBuilderUI.directive("oxygenOxyShapeDividerOxyShapeDividerCustomShape",(function(){return{restrict:"C",template:function(e){var t=e.find(".oxygen-input");t.addClass("oxygen-input-with-button"),t.append('<div class="oxygen-input-button" ng-click="hydroInsertCustomSVG()">Insert</div>')}}})),hydrogen.get("settings.contentEditorEnhancer.enabled")&&CTFrontendBuilderUI.directive("ctEditButton",(function(){var e,t,n=angular.element("#wp-link-wrap");function a(t){e&&e.isActiveActionTab("contentEditing")&&t.stopPropagation()}return n.on("click",a),angular.element("#wp-link-backdrop").on("click",a),angular.element("#wp-link-submit").on("click",(function(n){if(e&&e.isActiveActionTab("contentEditing")){n.stopPropagation();var a=wpLink.getAttrs(),o=a.href.trim(),r="_blank"==a.target;if(o){var i='<a href="'+o+'"';r&&(i+=' target="_blank"'),i+=">"+(t.getSelection().toString()||o)+"</a>",t.execCommand("insertHTML",!1,i)}else t.execCommand("unlink",!1,""),e.showLinkDataDialog=!1,wpLink.close(),e.$apply();e.$apply()}})),{link:function(a,o,r){"link"===r.ngEditRole&&(void 0===e&&(t=(e=a).artificialViewport[0].contentWindow.document),o.on("mousedown",(function(e){return e.stopImmediatePropagation(),!1})),o.on("click",(function(a){var o=t.getSelection(),r=o.anchorNode.parentNode;if(wpLink.open("hydrogen-link-input"),"A"==r.nodeName&&0==r.classList.length){o.selectAllChildren(r);var i=r.getAttribute("href"),d=r.getAttribute("target");i&&(angular.element("#wp-link-url").val(i),angular.element("#wp-link-target").prop("checked","_blank"==d))}e.showLinkDataDialog=!0,n.removeClass("has-text-field"),a.stopPropagation()})))}}})),hydrogen.get("settings.conditionsEnhancer.enabled")&&(CTFrontendBuilderUI.directive("ctGlobalConditionsChooseOperator",[function(){return{restrict:"C",template:function(e,t){if(!e.hasClass("ct-modal-advanced-query")){var n=angular.element("#tpl-conditions-modal-header").html(),a=e.children(),o=e.find("h1"),r=angular.element('<div class="ct-global-conditions-modal-body"></div>');r.append(a),e.append(o),e.append(r),n&&o.html(n)}}}}]),CTFrontendBuilderUI.directive("oxyConditionMenu",[function(){return{restrict:"C",template:function(e,t){var n=angular.element("#tpl-conditions-clear-button").html();e.find(".oxy-condition-menu-button").eq(0).after(n)}}}])),hydrogen.get("settings.advancedStylesReset.enabled")&&CTFrontendBuilderUI.directive("oxygenSidebarAdvancedSubtab",[function(){var e=angular.element('<a class="hydrogen-section-clear" ng-click=""></a>');return{restrict:"C",template:function(t,n){["background","background-gradient","position","layout","typography","borders","effects","custom-css","custom-js","custom-attributes"].forEach((function(a){if(n.ngClick=="switchTab('advanced', '"+a+"')"){var o=e.clone();o.attr("ng-click","iframeScope.clearTabOptions($event, '"+a+"')"),["background","background-gradient"].includes(a)&&o.attr("ng-class","{'active': iframeScope.component.options[iframeScope.component.active.id]['model']['gradient']}"),"custom-attributes"===a&&o.attr("ng-class","{'active': iframeScope.component.options[iframeScope.component.active.id]['model']['custom-attributes']}"),o.insertAfter(t.children("span"))}}))}}}]),hydrogen.get("settings.classLock.enabled")&&CTFrontendBuilderUI.directive("oxygenClassesDropdown",[function(){return{restrict:"C",template:function(){var e=document.getElementById("tpl-oxygen-classes-dropdown");if(e)return e.innerHTML}}}]),hydrogen.get("settings.preserveAdvancedTabs.enabled")&&CTFrontendBuilderUI.directive("oxygenSidebarTabs",[function(){return{restrict:"C",template:function(e,t){e.children().each((function(){var e=this.getAttribute("ng-click");e&&-1!=e.indexOf("styleTabAdvance=true")&&this.setAttribute("ng-click","showAdvancedTab($event);")}))}}}]);